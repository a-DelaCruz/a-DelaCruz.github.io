<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="keywords" content="Raspberry Pi 3 64bit Kernel">

    <title>Raspberry Pi 3 64-bit kernel</title>
    
    <meta name="description" content="Cross-Build Prerequisites">

    <link rel="stylesheet" href="/assets/css/style.css?v=">
    
    <meta name="theme-color" content="#FFB74D" />

    <!-- Google Adsense -->
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({ google_ad_client: "ca-pub-6013311002995151", enable_page_level_ads: true });
    </script>

    <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Raspberry Pi 3 64-bit kernel | My Personal Notes</title>
<meta name="generator" content="Jekyll v3.6.2" />
<meta property="og:title" content="Raspberry Pi 3 64-bit kernel" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Cross-Build Prerequisites" />
<meta property="og:description" content="Cross-Build Prerequisites" />
<link rel="canonical" href="http://a-delacruz.github.io/ubuntu/rpi3-setup-64bit-kernel.html" />
<meta property="og:url" content="http://a-delacruz.github.io/ubuntu/rpi3-setup-64bit-kernel.html" />
<meta property="og:site_name" content="My Personal Notes" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-11-03T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"Cross-Build Prerequisites","@type":"BlogPosting","url":"http://a-delacruz.github.io/ubuntu/rpi3-setup-64bit-kernel.html","headline":"Raspberry Pi 3 64-bit kernel","dateModified":"2017-11-03T00:00:00+08:00","datePublished":"2017-11-03T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://a-delacruz.github.io/ubuntu/rpi3-setup-64bit-kernel.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>
  
  <body class="posts">

    <div class="row">
      <div class="col s2 m1 logo">
    <div class="card">
        <div class="card-image">
            <a href="/"><img src="/assets/img/AJ.png"/></a>
        </div>
    </div>
</div>
      <!-- bannerA -->
      <iframe src="//rcm-na.amazon-adsystem.com/e/cm?o=1&p=20&l=ur1&category=freetime&banner=0PMG0YJ47QME64EDD382&f=ifr&linkID=cb05ef9b4925de9c897be97b6f7b8295&t=cranz01-20&tracking_id=cranz01-20"
    width="120" height="90" scrolling="no" border="0" marginwidth="0" style="border:none;" frameborder="0"></iframe>
<iframe src="//rcm-na.amazon-adsystem.com/e/cm?o=1&p=20&l=ur1&category=primemain&banner=1D8PG8S4X5GJTVVRR082&f=ifr&linkID=f2ec4869ab9ed83a3b036aa0b01e7360&t=cranz01-20&tracking_id=cranz01-20"
    width="120" height="90" scrolling="no" border="0" marginwidth="0" style="border:none;" frameborder="0"></iframe>
    </div>
    <div class="row">
      <section>
        <!-- lower right menu -->
<div class="fixed-action-btn toolbar">
    <a class="btn-floating btn-large red">
        <i class="large material-icons">more_vert</i>
    </a>
    <ul>
        <li>
            <a href="#commentlist" class="modal-trigger">
                <i class="material-icons">mode_comment</i>
            </a>
        </li>
        <li>
            <a href="#droplist" class="modal-trigger">
                <i class="material-icons">list</i>
            </a>
        </li>
        <li>
            <a href="/">
                <i class="material-icons">home</i>
            </a>
        </li>
    </ul>
</div>

<!-- Modal -->
<div id="droplist" class="modal bottom-sheet center-align">
    <div class="modal-content collection">
        
          

        <a class="collection-item" href="/ubuntu/docker.html">.Net Core on Raspberry Pi 3</a>

            

        <a class="collection-item" href="/ubuntu/rpi3-setup-bluetooth.html">Raspberry Pi 3 Bluetooth Setup</a>

          

        <a class="collection-item" href="/ubuntu/rpi3-setup-i2c.html">Enabling I2C for Raspberry Pi 3</a>

          

        <a class="collection-item" href="/ubuntu/rpi3-setup-wifi.html">Raspberry Pi 3 Wifi Setup</a>

          

        <a class="collection-item" href="/ubuntu/rpi3-setup-filesystem.html">Using Ubuntu-base arm64 rootfs for Raspberry Pi 3</a>

          

        <a class="collection-item" href="/ubuntu/rpi3-setup-64bit-uboot.html">Raspberry Pi 3 with 64-bit U-Boot</a>

          

        <a class="collection-item" href="/ubuntu/rpi3-setup-64bit-kernel.html">Raspberry Pi 3 64-bit kernel</a>

               
    </div>
</div>

<div class="container posts-title">
    <h3 class="center-align">Raspberry Pi 3 64-bit kernel</h3>

    <div class="test">
        <h4 id="cross-build-prerequisites">Cross-Build Prerequisites</h4>

<p>For building our own 64-bit kernel fom scratch using the RaspberryPi kernel repository, we must have a lnux machine <code class="highlighter-rouge">(or Windows 10's Bash shell)</code> with the required packages in order to compile the kernel.
<br /></p>

<blockquote>
  <p>Built on Ubuntu Server 16.04.03 LTS</p>
</blockquote>

<div class="alert-info">
    <i class="material-icons left">info</i>
    <b>Note:</b>
    <span>verify that these are installed: <br />
<code class="highlighter-rouge">bc gcc git make device-tree-compiler gcc-aarch64-linux-gnu u-boot-tools ncurses-dev qemu-user-static</code></span>
</div>

<p>Files that we also need:<br />
<a href="https://github.com/raspberrypi/linux.git" class="card btn blue">kernel RPi Repository<i class="material-icons right">file_download</i></a>
<a href="https://github.com/raspberrypi/firmware/tree/master/boot" class="card btn blue">RPi firmware<i class="material-icons right">file_download</i></a></p>
<div class="alert-info">
    <i class="material-icons left">info</i>
    <b>Note:</b>
    <span><code class="highlighter-rouge">bootcode.bin</code>, <code class="highlighter-rouge">start.elf</code>, <code class="highlighter-rouge">fixup.dat</code> as this are the min. files to boot. The rest of <code class="highlighter-rouge">star.* and fixup.*</code> files for graphical desktop</span>
</div>

<p><br /></p>

<h4 id="our-tasks-at-hand-">Our tasks at hand üìù</h4>
<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Compile the Kernel</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Create <code class="highlighter-rouge">config.txt</code> and <code class="highlighter-rouge">cmdline.txt</code></li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Transfer the necessary files to the MicroSD</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Boot to test</li>
</ul>

<p><br /></p>

<h4 id="compile-the-kernel">Compile the Kernel</h4>

<p>Use a Linux machine of your choice or Windows 10‚Äôs Bash Shell to compile the kernel is up to you. To get the kernel we need, we can either download it in a compressed file form using the links above or we could use <code class="highlighter-rouge">git</code> to make it simpler.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$   git clone --depth 1 --branch rpi-4.14.y https://github.com/raspberrypi/linux.git rpi-4.14.14
</code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$   mkdir bo_4.14
$   sudo make -C rpi-4.14.14/ ARCH=arm64 CROSS_COMPILE=aarch64-linux-gnu- O=$HOME/bo_4.14 bcmrpi3_defconfig
$   sudo make -C rpi-4.14.14/ ARCH=arm64 CROSS_COMPILE=aarch64-linux-gnu- O=$HOME/bo_4.14 -j4
</code></pre></div></div>

<div class="alert-info">
    <i class="material-icons left">info</i>
    <b>Note:</b>
    <span><code class="highlighter-rouge">bcmrpi3_defconfig</code> - arm64 config. <code class="highlighter-rouge">-C source folder/</code>. <code class="highlighter-rouge">O=$HOME/output-folder</code> - Output directory. <code class="highlighter-rouge">-jX</code> - build the kernel in a multithreaded way where: <code class="highlighter-rouge">X = [Num of core x 2]</code> </span>
</div>

<div class="alert-info">
    <i class="material-icons left">info</i>
    <b></b>
    <span><code class="highlighter-rouge">Image</code> file @ <code class="highlighter-rouge">$HOME/bo_4.14/arch/arm64/boot/</code> <br /><code class="highlighter-rouge">bcm2710-rpi-3-b.dtb</code> @ <code class="highlighter-rouge">$HOME/bo_4.14/arch/arm64/boot/dts/broadcom/</code></span>
</div>

<blockquote>
  <ul class="task-list">
    <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Compile the Kernel üëå</li>
  </ul>
</blockquote>

<p><br /></p>

<h4 id="create-configtxt-and-cmdlinetxt">Create config.txt and cmdline.txt</h4>

<p>For the <code class="highlighter-rouge">config.txt</code> and <code class="highlighter-rouge">cmdline.txt</code>, we have to create them and include this lines.</p>
<div class="alert-code">
    <b>config.txt</b>
    <br />
<code class="highlighter-rouge">
# Serial console output!
enable_uart=1

# 64bit-mode
arm_control=0x200

kernel=kernel8.img

device_tree_address=0x100
device_tree_end=0x8000

# For i2c &amp; spi
dtparam=i2c_arm=on
dtparam=spi=on
</code>
</div>

<div class="alert-code">
    <b>cmdline.txt</b>
    <br />
<code class="highlighter-rouge">
dwc_otg.lpm_enable=0 console=ttyAMA0,115200 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait
</code>
</div>

<blockquote>
  <ul class="task-list">
    <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Create <code class="highlighter-rouge">config.txt</code> and <code class="highlighter-rouge">cmdline.txt</code> üëå</li>
  </ul>
</blockquote>

<p><br /></p>

<h4 id="transfer-the-necessary-files-to-the-microsd">Transfer the necessary files to the MicroSD</h4>

<p>Since we dont have a Ramdisk yet, we are using this <a href="https://www.finnie.org/software/raspberrypi/ubuntu-rpi3/20160517-raspi3-arm64-firmware-kernel.tar">initrd.img</a> for now.</p>

<p>Rename the <code class="highlighter-rouge">Image</code> file we had earlier to <code class="highlighter-rouge">kernel8.img</code>. <code class="highlighter-rouge">start.elf</code> file knows <code class="highlighter-rouge">kernel8.img</code> file is a kernel to load.</p>

<div class="alert-code">
    <b>MicroSD card should now contain these files below</b>
    <br />
<code class="highlighter-rouge">
bootcode.bin
start.elf
fixup.dat
config.txt
cmdline.txt
kernel8.img
initrd.img
bcm2710-rpi-3-b.dtb
</code>
</div>

<blockquote>
  <ul class="task-list">
    <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Transfer the necessary files to the MicroSD üëå</li>
  </ul>
</blockquote>

<p><br /></p>

<h4 id="boot-to-test">Boot to test</h4>

<p>Place the MicroSD on to the Raspberry Pi 3 and power it on.
You can now then verify at this point that our kernel boot as well and <code class="highlighter-rouge">will stop at some point</code> 
since we still do not have a filesystem.</p>

<p>If it did not boot or no display at all, we will use <code class="highlighter-rouge">U-Boot</code>.</p>

<blockquote>
  <ul class="task-list">
    <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Boot to test üëå</li>
  </ul>
</blockquote>

<p><br /></p>

<p>Next is <a href="rpi3-setup-filesystem">Creating the filesystem</a> for our Raspberry Pi 3 using Ubuntu Base.</p>

<p><br /></p>
<h5 id="reference-">Reference :</h5>
<blockquote>
  <p><a href="https://wiki.ubuntu.com/ARM/RaspberryPi/RaspberryPi3">https://wiki.ubuntu.com/ARM/RaspberryPi/RaspberryPi3</a><br />
  <a href="https://wiki.ubuntu.com/Base">https://wiki.ubuntu.com/Base</a><br />
  <a href="https://www.raspberrypi.org/documentation/linux/kernel/building.md">https://www.raspberrypi.org/documentation/linux/kernel/building.md</a><br />
  <a href="https://kernelnomicon.org/?p=682">https://kernelnomicon.org/?p=682</a></p>
</blockquote>

<hr />


        
        <!-- Comments -->
        
            <div id="commentlist" class="modal bottom-sheet">
    <div class="modal-content comment-list">
        <h4>Comments</h4>
        <ul class="collection">
             
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/287de6c6c6b38b1f34963b4b126f4a63?s=100&d=mm" class="circle">
                <span class="name">Jack</span>
                <span class="date">12/11/17</span>
                <p class="message">Thank you Eduardo,

But, unfortunately, my raw html looks like wrapping in <code>, but thanks to @Danny, it fixed by wrapping all code <figure> into <div>.</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/50c6f777e399404075076ba1268160ff?s=100&d=mm" class="circle">
                <span class="name">quartoxuna</span>
                <span class="date">11/28/17</span>
                <p class="message">Great solution! Thank you very much! :-)</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/d0367ac471645d74db184bed8c65d78e?s=100&d=mm" class="circle">
                <span class="name">Timesjobs</span>
                <span class="date">10/26/17</span>
                <p class="message">This is a very interesting webpage and I have enjoyed reading many of the articles and posts contained on the website, keep up the good work and hope to read some more interesting content in the future.</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/1e0836ae0dce5ab8b470326c45b537f1?s=100&d=mm" class="circle">
                <span class="name">Naomi M Hanson</span>
                <span class="date">10/7/17</span>
                <p class="message">I'm so sad that this is down. This seemed to be the answer to my frustrations over Linkedin.</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/4808bb8e569d581000bcb3e4497b9921?s=100&d=mm" class="circle">
                <span class="name">bruce</span>
                <span class="date">10/6/17</span>
                <p class="message">This is what I am looking for!!

One issue is that
* No image shown if the title of post is not the same as the filename of the post.

I fixed this with tweaking the relative path as follow:
{% capture imagePath %}{{ page.path | slugify | remove: "posts-" | remove: "-md"}}/{{ include.name }}{% endcapture %}</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/088c19ef1c68263f3c97947ad8033c37?s=100&d=mm" class="circle">
                <span class="name">Emil</span>
                <span class="date">9/28/17</span>
                <p class="message">To bad the service is down, would also like to use it</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/47edf7e9d49532cc8f229e2152deb3f4?s=100&d=mm" class="circle">
                <span class="name">jlo</span>
                <span class="date">9/8/17</span>
                <p class="message">Thanks for this share! Very useful.
Just noticed that, for my setup (cloned from https://github.com/barryclark/jekyll-now),
I needed to add ".html" after the file-name to be included:
```
{% include image.html name="linkedin-before.png" caption="Sharing my blog on LinkedIn" %}
```
Dunno why, but maybe this will save someone a bit of head-scratching</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/9009530176e7bcaede209a905f2becde?s=100&d=mm" class="circle">
                <span class="name">Shreyash Agarwal</span>
                <span class="date">7/21/17</span>
                <p class="message">Thank you! This was very useful for me in customizing my Jekyll Blog!</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/41246865dae97c7a06440256059d9722?s=100&d=mm" class="circle">
                <span class="name">Todd</span>
                <span class="date">6/17/17</span>
                <p class="message">Many thanks for this post (& website). Teaching myself webdesign for fun, and being able to see these explanations and the GitHub material itself is incredibly helpful. 

I ran into errors the first time through this, but access to the source code solved everything. :)

(My errors were related to imagePath, where I was trying to refer to the simplified names of the html/md files themselves, and not the complete *titles* I was assigning each post in the front matter. Derp.)</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/d0b2a4fdecbcbd5ebfbbef6359e548df?s=100&d=mm" class="circle">
                <span class="name">Danny</span>
                <span class="date">5/30/17</span>
                <p class="message">Legend, thank you. One issue:

The include displays as raw HTML: wrapped in `<code>` tags. I fixed it by wrapping the include `<figure>` with a `<div>`.

Might have something to do with [this GitHub issue](https://github.com/jekyll/jekyll/issues/1868).</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/44f420551e24c72fbd2f780d89d07cb4?s=100&d=mm" class="circle">
                <span class="name">Viktar</span>
                <span class="date">4/5/17</span>
                <p class="message">Great! Thanks!</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/982b23c9a30aa5501e809f8a22edd8eb?s=100&d=mm" class="circle">
                <span class="name">Yura</span>
                <span class="date">3/25/17</span>
                <p class="message">Thank you very much!</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/9999a35a093355570204e460eba5d7ec?s=100&d=mm" class="circle">
                <span class="name">Harry</span>
                <span class="date">2/13/17</span>
                <p class="message">It is obvious that the images and other binary resources must lie with the main document in one folder. 

```
_posts/
  2000-01-01-article/
    2000-01-01-article.md
    image.png
    document.pdf
```

But no! Jekyll all about simplicity https://github.com/jekyll/jekyll/issues/881. Why do we need a convenient and simple structure of the documents? Better we will tinker with a separate directory. But it's would more convenient for developers.</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/c8f2f085bbf6e830b0f262ea839e3b86?s=100&d=mm" class="circle">
                <span class="name">James</span>
                <span class="date">1/25/17</span>
                <p class="message">I am confused and couldn't get an image posted</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/fe73a64af70897f2e3486c50288159c2?s=100&d=mm" class="circle">
                <span class="name">Carlos</span>
                <span class="date">1/10/17</span>
                <p class="message">I get the 'Server not found' message when trying to access the butler.

I'm really frustrated since one of my websites only shows the generic URL and no image nor excerpt.  OG tags look good :(</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/e09fd50165f62ce3046120ad18f1097b?s=100&d=mm" class="circle">
                <span class="name">Christian Solorzano</span>
                <span class="date">12/26/16</span>
                <p class="message">Great article. 

Any idea why Jekyll sometimes doesn't display photos?</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/444ad5f7295003ac83ce72fe033fae3c?s=100&d=mm" class="circle">
                <span class="name">Rafael "bsides" Pereira</span>
                <span class="date">12/15/16</span>
                <p class="message">Thanks for this post, helped me a lot! Obrigado :)</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/d4beb95cb3d3e28ff4c7b3ae195b5afc?s=100&d=mm" class="circle">
                <span class="name">Axil Bits</span>
                <span class="date">12/2/16</span>
                <p class="message">Good article, gave me some great ideas. I'm not using PHP but could follow your line of reasoning well.</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/4f8072e22fae3cd98b876df304886bed?s=100&d=mm" class="circle">
                <span class="name">Eduardo Bou√ßas</span>
                <span class="date">11/4/16</span>
                <p class="message">Daniel, my assets folder is in the root of the site. Check [the source for this site](https://github.com/eduardoboucas/eduardoboucas.github.io) to see the implementation.

And yes, you could use it for pages just the same.</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/609ed84954a3a2595d837105611d13ef?s=100&d=mm" class="circle">
                <span class="name">Daniel</span>
                <span class="date">11/4/16</span>
                <p class="message">Great post. I'm just a little confused on how you got it all set up. Did you include the assets folder in the '_includes' folder or in the main site file? Also if I have pages on my site and need to include images could I do the same snippet but change posts to pages?</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/413d89148cb9d72d397438959e83b931?s=100&d=mm" class="circle">
                <span class="name">Brad West</span>
                <span class="date">10/17/16</span>
                <p class="message">I'm having some problems recreating this on my site. I've tried using the code you've demoed above, and got the below errors. If I copy the code from your [eduardoboucas/eduardoboucas.github.io](https://github.com/eduardoboucas/eduardoboucas.github.io/) repo I get a Liquid warning. In both cases the blog pagination pages (`/blog/page/2`, `/blog/page/3`, etc.) aren't being generated.

I [setup a gist](https://gist.github.com/bradonomics/ab42dd473c602ceb713d6a56eeada2c1) to better show the problem. You can see the contents of my `/blog.html` file, my `/js/pagination.js` file, and the console error I'm getting when running the demo code above.

In my config file I've got:

```yaml
paginate: 3
paginate_path: "/blog/page/:num"
```

Any ideas where I've gone wrong?</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/c4c662e93babe92ff32fdaf6f087f09a?s=100&d=mm" class="circle">
                <span class="name">Renshuki</span>
                <span class="date">10/8/16</span>
                <p class="message">Thank you for the tip!

It would be nice to take in consideration image responsiveness too.</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/4a07f1bedaf8b3e78724c3e3b684f39e?s=100&d=mm" class="circle">
                <span class="name">Joren</span>
                <span class="date">9/29/16</span>
                <p class="message">Thank you! Also, I like the jokes you put in this article :)</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/efbc00c785b086776c4e7aac474193c9?s=100&d=mm" class="circle">
                <span class="name">Ian</span>
                <span class="date">9/29/16</span>
                <p class="message">Many thanks for a brilliantly simple solution. I am currently porting my site from WP for all the usual reason and rebuilding it in Jekyll. Since I am a newbie, this is a slow and painful process. This helped solve a major issue for me. I am still researching ways to generate thumbnails of post images at the build. Any clues would be helpful.

Thanks again.</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
             
            <li class="collection-item avatar">
                <img src="https://www.gravatar.com/avatar/e6f30238c63fb78843060050ec3a8dba?s=100&d=mm" class="circle">
                <span class="name">Sam Danielson</span>
                <span class="date">9/17/16</span>
                <p class="message">Thanks for this. I'm just now setting of a jekyll site and these tips are very useful.</p>
                <a href="#!" class="secondary-content">
                    <i class="material-icons">send</i>
                </a>
            </li>
             
        </ul>
    </div>
</div>
        
    </div>

    <!-- ads-footer.html -->
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- Ad-1 -->
    <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-6013311002995151"
        data-ad-slot="2377202477"
        data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
<div id="amzn-assoc-ad-e6bd1453-bb6c-4475-a349-00c923de8818"></div>
<script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&adInstanceId=e6bd1453-bb6c-4475-a349-00c923de8818"></script>
</div>
      </section>
    </div>

    <script src="/assets/js/jquery-3.2.1.min.js"></script>
    <script src="/assets/js/materialize.min.js"></script>
    <script src="/assets/js/list-pagination.js"></script>
    <script src="/assets/js/site.js"></script>

    <!-- Google Analytics -->
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-99256627-1', 'auto');
        ga('send', 'pageview');
    </script>
  </body>
</html>
